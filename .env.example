# LalaSearch Environment Configuration
# Copy this file to .env and update values as needed

# === Agent Configuration ===
# Agent operational mode: worker, manager, or all
# - worker: Only process crawl queue
# - manager: Only serve HTTP API
# - all: Both worker and manager functionality
AGENT_MODE=all

# === Database Configuration (Apache Cassandra) ===
# Comma-separated list of Cassandra hosts
# For local development: 127.0.0.1:9042
# For Docker: cassandra:9042
CASSANDRA_HOSTS=127.0.0.1:9042

# Cassandra keyspace name
CASSANDRA_KEYSPACE=lalasearch

# === Search Engine Configuration (Meilisearch) ===
# Meilisearch host address
# For local development: 127.0.0.1:7700
# For Docker: meilisearch:7700
MEILISEARCH_HOST=127.0.0.1:7700

# === Crawler Configuration ===
# Interval in seconds between queue polling cycles
QUEUE_POLL_INTERVAL_SECS=5

# User agent string for web crawler
USER_AGENT=LalaSearchBot/0.1

# Default value for crawling_enabled when no setting exists in database
# Set to true for local/dev environments, false for production
# Once set via API, this default is ignored
CRAWLING_ENABLED_DEFAULT=true

# === Runtime Configuration ===
# Rust log level: trace, debug, info, warn, error
RUST_LOG=info

# === S3 Storage Configuration ===
# S3-compatible storage for crawled HTML content
# Supports AWS S3, MinIO, DigitalOcean Spaces, Wasabi, etc.

# S3 endpoint URL (required)
# For MinIO: http://minio:9000 or http://127.0.0.1:9000
# For AWS S3: https://s3.amazonaws.com or https://s3.{region}.amazonaws.com
S3_ENDPOINT=http://127.0.0.1:9000

# S3 region (optional for MinIO, required for AWS S3)
S3_REGION=us-east-1

# S3 bucket name for storing crawled content
S3_BUCKET=lalasearch-content

# S3 access credentials
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin

# Enable gzip compression for stored content (true/false)
S3_COMPRESS_CONTENT=true

# Minimum content size in bytes to trigger compression (default: 1024)
S3_COMPRESS_MIN_SIZE=1024

# === Build Configuration (Optional) ===
# Override patch version for CI/CD builds
# LALA_PATCH_VERSION=123
